{% extends 'base.html' %}

{% block content %}
{% load static %}
<section id="products" class="section products-section" style="
    padding: 1rem;
    margin: 0;
    margin-top: 80px;
    overflow-x: hidden;
    box-sizing: border-box;
    width: 100%;
    min-height: 100vh;
">
    <div class="container" style="
        max-width:1280px;
        margin:auto;
        width:100%;
        box-sizing:border-box;
    ">

        <div class="section-header" style="
            text-align:center;
            margin-bottom:2rem;
        ">
            <span style="
                font-size:1rem;
                font-weight:600;
                color:#2563eb;
                display:block;
            ">
                Our One of The Best category
            </span>
            <h2 style="
                font-size:1.8rem;
                font-weight:700;
                color:#111827;
                margin-top:0.5rem;
                text-transform:uppercase;
                word-wrap:break-word;
            ">
                {{ categoryes.category_name }}
            </h2>
        </div>

        <!-- Product Grid -->
        <div id="productGrid" style="
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:1.25rem;
            align-items:start;
            justify-items:center;
            width:100%;
            box-sizing:border-box;
            padding-bottom:1rem;
        ">

            {% for p in product %}
            <div style="
                background-color:#ffffff;
                border-radius:1rem;
                overflow:hidden;
                box-shadow:0 4px 15px rgba(0,0,0,0.1);
                transition:all 0.3s ease;
                text-align:center;
                padding:1rem;
                display:flex;
                flex-direction:column;
                justify-content:flex-start;
                align-items:center;
                box-sizing:border-box;
                width:100%;
                max-width:100%;
            " onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 18px rgba(0,0,0,0.15)';"
                onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 15px rgba(0,0,0,0.1)';">

                <img src="{{ p.product_image.url }}" alt="Product image" style="
                    display:block;
                    object-fit:cover;
                    width:100%;
                    height:auto;
                    max-width:100%;
                    border-radius:0.5rem;
                    margin-bottom:1rem;
                ">

                <h4 style="
                    margin-top:0.25rem;
                    font-weight:700;
                    font-size:clamp(1rem,2.5vw,1.3rem);
                    color:#111827;
                    word-wrap:break-word;
                ">
                    {{ p.product_name|capfirst }}
                </h4>

                <p style="
                    color:#4b5563;
                    font-size:clamp(0.85rem,2vw,1rem);
                    margin-bottom:1.25rem;
                    line-height:1.5;
                    padding:0 0.5rem;
                    word-break:break-word;
                ">
                    {{ p.product_description }}
                </p>

                <a href="{% url 'product_details' categoryes.category_slug p.product_slug %}" style="
                    display:flex;
                    align-items:center;
                    justify-content:center;
                    background-color:#2563eb;
                    color:white;
                    padding:0.75rem 1.5rem;
                    border-radius:0.5rem;
                    font-size:clamp(0.9rem,2vw,1rem);
                    font-weight:500;
                    text-decoration:none;
                    transition:all 0.2s ease;
                    box-shadow:0 4px 10px rgba(0,0,0,0.1);
                    width:100%;
                    max-width:200px;
                    margin-top:auto;
                " onmouseover="this.style.backgroundColor='#1d4ed8';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 15px rgba(0,0,0,0.15)';"
                    onmouseout="this.style.backgroundColor='#2563eb';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 10px rgba(0,0,0,0.1)';">
                    View Products
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}